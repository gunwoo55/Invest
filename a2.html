<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ë‰´ìŠ¤ - FINE U</title>
    <link rel="stylesheet" href="styles.css">
    <style>
        .news-card {
            background: white;
            border-radius: 12px;
            padding: 16px;
            margin-bottom: 16px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
            border: 1px solid #eee;
            cursor: pointer;
            transition: transform 0.2s ease, box-shadow 0.2s ease;
        }
        
        .news-card:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(0,0,0,0.15);
        }
        
        .news-title {
            font-size: 16px;
            font-weight: 600;
            margin-bottom: 8px;
            color: #333;
            line-height: 1.4;
        }
        
        .news-summary {
            font-size: 14px;
            color: #666;
            margin-bottom: 12px;
            line-height: 1.5;
        }
        
        .news-meta {
            display: flex;
            justify-content: space-between;
            align-items: center;
            font-size: 12px;
            color: #999;
        }
        
        .news-source {
            font-weight: 500;
        }
        
        .news-time {
            color: #666;
        }
        
        .term-card {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border-radius: 12px;
            padding: 20px;
            margin-bottom: 16px;
        }
        
        .term-title {
            font-size: 18px;
            font-weight: 600;
            margin-bottom: 12px;
        }
        
        .term-definition {
            font-size: 14px;
            line-height: 1.6;
            opacity: 0.9;
        }
        
        .refresh-btn {
            position: fixed;
            bottom: 100px;
            right: 20px;
            width: 56px;
            height: 56px;
            border-radius: 50%;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            font-size: 24px;
            cursor: pointer;
            box-shadow: 0 4px 12px rgba(102, 126, 234, 0.3);
            z-index: 100;
        }
        
        .loading-card {
            text-align: center;
            padding: 40px;
            color: #666;
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- í—¤ë” -->
        <header class="header">
            <h1>ğŸ“° ë‰´ìŠ¤</h1>
            <p class="subtitle">ì‹¤ì‹œê°„ ê²½ì œ ì •ë³´ë¥¼ í™•ì¸í•˜ì„¸ìš”</p>
            <div class="profile-icon" onclick="goToProfile()">
                <img id="headerProfileImg" style="display: none;" alt="í”„ë¡œí•„">
                <span class="default-icon" id="headerDefaultIcon">ğŸ‘¤</span>
            </div>
        </header>

        <!-- íƒ­ ë©”ë‰´ -->
        <div class="content">
            <div class="tab-menu">
                <div class="tab-item active" onclick="switchTab('today-term')">ê¸ˆìœµìš©ì–´</div>
                <div class="tab-item" onclick="switchTab('newsletter')">ë‰´ìŠ¤ë ˆí„°</div>
                <div class="tab-item" onclick="switchTab('study')">ìš©ì–´ê³µë¶€</div>
                <div class="tab-item" onclick="switchTab('weekly')">ì£¼ê°„ë‰´ìŠ¤</div>
                <div class="tab-item" onclick="switchTab('card-news')">ì¹´ë“œë‰´ìŠ¤</div>
            </div>

            <!-- ì˜¤ëŠ˜ì˜ ê¸ˆìœµìš©ì–´ -->
            <div id="today-term" class="tab-content">
                <div class="term-card">
                    <div class="term-title" id="termTitle">ì˜¤ëŠ˜ì˜ ê¸ˆìœµìš©ì–´</div>
                    <div class="term-definition" id="termDefinition">ë¡œë”© ì¤‘...</div>
                </div>
            </div>

            <!-- ë‰´ìŠ¤ë ˆí„° -->
            <div id="newsletter" class="tab-content" style="display: none;">
                <div id="newsletterContent">
                    <div class="loading-card">
                        <div class="loading"></div>
                        <p style="margin-top: 10px;">ë‰´ìŠ¤ë¥¼ ë¶ˆëŸ¬ì˜¤ëŠ” ì¤‘...</p>
                    </div>
                </div>
            </div>

            <!-- ê¸ˆìœµìš©ì–´ ê³µë¶€ -->
            <div id="study" class="tab-content" style="display: none;">
                <div id="studyContent">
                    <div class="loading-card">
                        <div class="loading"></div>
                        <p style="margin-top: 10px;">í•™ìŠµ ìë£Œë¥¼ ë¶ˆëŸ¬ì˜¤ëŠ” ì¤‘...</p>
                    </div>
                </div>
            </div>

            <!-- ì£¼ê°„ ë‰´ìŠ¤ë ˆí„° -->
            <div id="weekly" class="tab-content" style="display: none;">
                <div id="weeklyContent">
                    <div class="loading-card">
                        <div class="loading"></div>
                        <p style="margin-top: 10px;">ì£¼ê°„ ë‰´ìŠ¤ë¥¼ ë¶ˆëŸ¬ì˜¤ëŠ” ì¤‘...</p>
                    </div>
                </div>
            </div>

            <!-- ì¹´ë“œë‰´ìŠ¤ -->
            <div id="card-news" class="tab-content" style="display: none;">
                <div id="cardNewsContent">
                    <div class="loading-card">
                        <div class="loading"></div>
                        <p style="margin-top: 10px;">ì¹´ë“œë‰´ìŠ¤ë¥¼ ë¶ˆëŸ¬ì˜¤ëŠ” ì¤‘...</p>
                    </div>
                </div>
            </div>
        </div>

        <!-- ìƒˆë¡œê³ ì¹¨ ë²„íŠ¼ -->
        <button class="refresh-btn" onclick="refreshCurrentTab()" title="ìƒˆë¡œê³ ì¹¨">
            ğŸ”„
        </button>

        <!-- í•˜ë‹¨ ë„¤ë¹„ê²Œì´ì…˜ -->
        <nav class="nav-menu">
            <a href="index.html" class="nav-item">
                <span class="nav-icon">ğŸ </span>
                í™ˆ
            </a>
            <a href="a1.html" class="nav-item">
                <span class="nav-icon">ğŸ“Š</span>
                í¬íŠ¸í´ë¦¬ì˜¤
            </a>
            <a href="a2.html" class="nav-item active">
                <span class="nav-icon">ğŸ“°</span>
                ë‰´ìŠ¤
            </a>
            <a href="a3.html" class="nav-item">
                <span class="nav-icon">ğŸ“š</span>
                í•™ìŠµ
            </a>
            <a href="a4.html" class="nav-item">
                <span class="nav-icon">ğŸ’³</span>
                ê°€ê³„ë¶€
            </a>
            <a href="a5.html" class="nav-item">
                <span class="nav-icon">ğŸ’°</span>
                íˆ¬ì
            </a>
        </nav>
    </div>

    <script>
        let currentTab = 'today-term';

        // ë‰´ìŠ¤ API ì„œë¹„ìŠ¤ (ì‹¤ì œ êµ¬í˜„ ì‹œ API í‚¤ í•„ìš”)
        const NewsService = {
            // ì‹¤ì œ API ì—°ë™ì„ ìœ„í•œ ê¸°ë³¸ êµ¬ì¡°
            async getFinancialNews() {
                try {
                    // News API ë˜ëŠ” ê²½ì œ ë‰´ìŠ¤ API ì—°ë™
                    // ì‹¤ì œ êµ¬í˜„ ì‹œ API í‚¤ì™€ ì—”ë“œí¬ì¸íŠ¸ í•„ìš”
                    const mockNews = [
                        {
                            title: "ì½”ìŠ¤í”¼, 2650ì„  ëŒíŒŒ...ì™¸êµ­ì¸ ìˆœë§¤ìˆ˜ ì§€ì†",
                            summary: "ì½”ìŠ¤í”¼ê°€ 2650í¬ì¸íŠ¸ë¥¼ ëŒíŒŒí•˜ë©° ê°•ì„¸ë¥¼ ì´ì–´ê°€ê³  ìˆìŠµë‹ˆë‹¤. ì™¸êµ­ì¸ íˆ¬ììë“¤ì˜ ìˆœë§¤ìˆ˜ê°€ ì§€ì†ë˜ë©´ì„œ...",
                            source: "í•œêµ­ê²½ì œì‹ ë¬¸",
                            time: "2ì‹œê°„ ì „",
                            url: "#"
                        },
                        {
                            title: "ê¸ˆë¦¬ ì¸ìƒ ìš°ë ¤ì—ë„ ë¶€ë™ì‚° ì‹œì¥ ì•ˆì •ì„¸",
                            summary: "í•œêµ­ì€í–‰ì˜ ì¶”ê°€ ê¸ˆë¦¬ ì¸ìƒ ê°€ëŠ¥ì„±ì—ë„ ë¶ˆêµ¬í•˜ê³  ë¶€ë™ì‚° ì‹œì¥ì´ ì•ˆì •ì„¸ë¥¼ ë³´ì´ê³  ìˆìŠµë‹ˆë‹¤...",
                            source: "ë§¤ì¼ê²½ì œ",
                            time: "4ì‹œê°„ ì „",
                            url: "#"
                        },
                        {
                            title: "ë°˜ë„ì²´ ì—…ê³„, ê¸€ë¡œë²Œ ìˆ˜ìš” íšŒë³µ ê¸°ëŒ€ê° ìƒìŠ¹",
                            summary: "ê¸€ë¡œë²Œ ë°˜ë„ì²´ ìˆ˜ìš” íšŒë³µì— ëŒ€í•œ ê¸°ëŒ€ê°ì´ ë†’ì•„ì§€ë©´ì„œ ê´€ë ¨ ì¢…ëª©ë“¤ì´ ê°•ì„¸ë¥¼ ë³´ì´ê³  ìˆìŠµë‹ˆë‹¤...",
                            source: "ì„œìš¸ê²½ì œ",
                            time: "6ì‹œê°„ ì „",
                            url: "#"
                        }
                    ];
                    
                    // ì‹œë®¬ë ˆì´ì…˜ì„ ìœ„í•œ ì§€ì—°
                    await new Promise(resolve => setTimeout(resolve, 1000));
                    return mockNews;
                } catch (error) {
                    console.error('ë‰´ìŠ¤ë¥¼ ë¶ˆëŸ¬ì˜¤ëŠ”ë° ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤:', error);
                    return [];
                }
            },

            async generateFinancialTerm() {
                try {
                    // AI APIë¥¼ í†µí•œ ê¸ˆìœµìš©ì–´ ìƒì„± (ì‹¤ì œ êµ¬í˜„ ì‹œ OpenAI API ë“± ì‚¬ìš©)
                    const terms = [
                        {
                            title: "ğŸ“ˆ PER (Price Earnings Ratio)",
                            definition: "ì£¼ê°€ìˆ˜ìµë¹„ìœ¨ë¡œ, ì£¼ê°€ë¥¼ ì£¼ë‹¹ìˆœì´ìµìœ¼ë¡œ ë‚˜ëˆˆ ê°’ì…ë‹ˆë‹¤. ê¸°ì—…ì˜ ìˆ˜ìµì„± ëŒ€ë¹„ ì£¼ê°€ê°€ ì–¼ë§ˆë‚˜ ë¹„ì‹¼ì§€ë¥¼ ë‚˜íƒ€ë‚´ëŠ” ì§€í‘œë¡œ, ë‚®ì„ìˆ˜ë¡ ì €í‰ê°€ëœ ê²ƒìœ¼ë¡œ íŒë‹¨ë©ë‹ˆë‹¤."
                        },
                        {
                            title: "ğŸ’° ROE (Return On Equity)",
                            definition: "ìê¸°ìë³¸ì´ìµë¥ ë¡œ, ê¸°ì—…ì´ ìê¸°ìë³¸ì„ ì–¼ë§ˆë‚˜ íš¨ìœ¨ì ìœ¼ë¡œ í™œìš©í•˜ì—¬ ì´ìµì„ ì°½ì¶œí–ˆëŠ”ì§€ë¥¼ ë‚˜íƒ€ë‚´ëŠ” ì§€í‘œì…ë‹ˆë‹¤. ë†’ì„ìˆ˜ë¡ ì¢‹ì€ íˆ¬ìì²˜ë¡œ í‰ê°€ë©ë‹ˆë‹¤."
                        },
                        {
                            title: "ğŸ¦ ê¸ˆë¦¬ ìŠ¤í”„ë ˆë“œ",
                            definition: "ë‘ ê¸ˆë¦¬ ê°„ì˜ ì°¨ì´ë¥¼ ì˜ë¯¸í•©ë‹ˆë‹¤. ì¼ë°˜ì ìœ¼ë¡œ ì¥ë‹¨ê¸° ê¸ˆë¦¬ì°¨ì´ë‚˜ ì‹ ìš©ë„ì— ë”°ë¥¸ ê¸ˆë¦¬ì°¨ì´ë¥¼ ë‚˜íƒ€ë‚´ë©°, ê²½ì œ ìƒí™©ì„ íŒë‹¨í•˜ëŠ” ì¤‘ìš”í•œ ì§€í‘œì…ë‹ˆë‹¤."
                        }
                    ];
                    
                    await new Promise(resolve => setTimeout(resolve, 800));
                    return terms[Math.floor(Math.random() * terms.length)];
                } catch (error) {
                    console.error('ê¸ˆìœµìš©ì–´ë¥¼ ìƒì„±í•˜ëŠ”ë° ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤:', error);
                    return {
                        title: "ê¸ˆìœµìš©ì–´ ë¡œë“œ ì‹¤íŒ¨",
                        definition: "ê¸ˆìœµìš©ì–´ë¥¼ ë¶ˆëŸ¬ì˜¤ëŠ”ë° ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤. ìƒˆë¡œê³ ì¹¨ì„ ì‹œë„í•´ì£¼ì„¸ìš”."
                    };
                }
            },

            async getWeeklyNewsletter() {
                const mockWeekly = [
                    {
                        title: "ì´ë²ˆ ì£¼ ê²½ì œ ì´ìŠˆ ì •ë¦¬",
                        summary: "ì´ë²ˆ ì£¼ ì£¼ìš” ê²½ì œ ì´ìŠˆë“¤ì„ í•œëˆˆì— ì •ë¦¬í•´ë“œë¦½ë‹ˆë‹¤. ê¸ˆë¦¬ ë™í–¥, ì£¼ì‹ì‹œì¥ íë¦„, í™˜ìœ¨ ë³€ë™ ë“±...",
                        source: "FINE U í¸ì§‘ë¶€",
                        time: "1ì¼ ì „"
                    },
                    {
                        title: "ê¸€ë¡œë²Œ ê²½ì œ ì „ë§ê³¼ íˆ¬ì ì „ëµ",
                        summary: "ê¸€ë¡œë²Œ ê²½ì œ ì „ë§ê³¼ í•¨ê»˜ ê°œì¸ íˆ¬ììë“¤ì„ ìœ„í•œ íˆ¬ì ì „ëµì„ ì œì‹œí•©ë‹ˆë‹¤...",
                        source: "FINE U ë¦¬ì„œì¹˜",
                        time: "3ì¼ ì „"
                    }
                ];
                
                await new Promise(resolve => setTimeout(resolve, 1200));
                return mockWeekly;
            }
        };

        // íƒ­ ì „í™˜
        function switchTab(tabName) {
            // ëª¨ë“  íƒ­ ë¹„í™œì„±í™”
            document.querySelectorAll('.tab-item').forEach(tab => {
                tab.classList.remove('active');
            });
            document.querySelectorAll('.tab-content').forEach(content => {
                content.style.display = 'none';
            });

            // ì„ íƒëœ íƒ­ í™œì„±í™”
            event.target.classList.add('active');
            document.getElementById(tabName).style.display = 'block';
            currentTab = tabName;

            // íƒ­ë³„ ì»¨í…ì¸  ë¡œë“œ
            loadTabContent(tabName);
        }

        // íƒ­ë³„ ì»¨í…ì¸  ë¡œë“œ
        async function loadTabContent(tabName) {
            switch(tabName) {
                case 'today-term':
                    await loadTodayTerm();
                    break;
                case 'newsletter':
                    await loadNewsletter();
                    break;
                case 'study':
                    await loadStudyContent();
                    break;
                case 'weekly':
                    await loadWeeklyContent();
                    break;
                case 'card-news':
                    await loadCardNews();
                    break;
            }
        }

        // ì˜¤ëŠ˜ì˜ ê¸ˆìœµìš©ì–´ ë¡œë“œ
        async function loadTodayTerm() {
            const term = await NewsService.generateFinancialTerm();
            document.getElementById('termTitle').textContent = term.title;
            document.getElementById('termDefinition').textContent = term.definition;
        }

        // ë‰´ìŠ¤ë ˆí„° ë¡œë“œ
        async function loadNewsletter() {
            const container = document.getElementById('newsletterContent');
            container.innerHTML = '<div class="loading-card"><div class="loading"></div><p style="margin-top: 10px;">ë‰´ìŠ¤ë¥¼ ë¶ˆëŸ¬ì˜¤ëŠ” ì¤‘...</p></div>';
            
            const news = await NewsService.getFinancialNews();
            container.innerHTML = '';
            
            news.forEach(article => {
                const newsCard = createNewsCard(article);
                container.appendChild(newsCard);
            });
        }

        // ë‰´ìŠ¤ ì¹´ë“œ ìƒì„±
        function createNewsCard(article) {
            const card = document.createElement('div');
            card.className = 'news-card';
            card.onclick = () => openNews(article.url);
            
            card.innerHTML = `
                <div class="news-title">${article.title}</div>
                <div class="news-summary">${article.summary}</div>
                <div class="news-meta">
                    <span class="news-source">${article.source}</span>
                    <span class="news-time">${article.time}</span>
                </div>
            `;
            
            return card;
        }

        // í•™ìŠµ ì»¨í…ì¸  ë¡œë“œ
        async function loadStudyContent() {
            const container = document.getElementById('studyContent');
            container.innerHTML = '<div class="loading-card"><div class="loading"></div><p style="margin-top: 10px;">í•™ìŠµ ìë£Œë¥¼ ë¶ˆëŸ¬ì˜¤ëŠ” ì¤‘...</p></div>';
            
            await new Promise(resolve => setTimeout(resolve, 1000));
            
            container.innerHTML = `
                <div class="card">
                    <h3>ğŸ“š ê¸ˆìœµ ê¸°ì´ˆ í•™ìŠµ</h3>
                    <p>íˆ¬ìì˜ ê¸°ë³¸ ê°œë…ë¶€í„° ê³ ê¸‰ ì „ëµê¹Œì§€ ë‹¨ê³„ë³„ë¡œ í•™ìŠµí•˜ì„¸ìš”.</p>
                    <button class="btn" style="margin-top: 10px;">í•™ìŠµ ì‹œì‘</button>
                </div>
                <div class="card">
                    <h3>ğŸ“– ìš©ì–´ ì‚¬ì „</h3>
                    <p>ë³µì¡í•œ ê¸ˆìœµ ìš©ì–´ë“¤ì„ ì‰½ê²Œ ì´í•´í•  ìˆ˜ ìˆë„ë¡ ì •ë¦¬í–ˆìŠµë‹ˆë‹¤.</p>
                    <button class="btn" style="margin-top: 10px;">ìš©ì–´ ë³´ê¸°</button>
                </div>
            `;
        }

        // ì£¼ê°„ ì»¨í…ì¸  ë¡œë“œ
        async function loadWeeklyContent() {
            const container = document.getElementById('weeklyContent');
            container.innerHTML = '<div class="loading-card"><div class="loading"></div><p style="margin-top: 10px;">ì£¼ê°„ ë‰´ìŠ¤ë¥¼ ë¶ˆëŸ¬ì˜¤ëŠ” ì¤‘...</p></div>';
            
            const weekly = await NewsService.getWeeklyNewsletter();
            container.innerHTML = '';
            
            weekly.forEach(article => {
                const newsCard = createNewsCard(article);
                container.appendChild(newsCard);
            });
        }

        // ì¹´ë“œë‰´ìŠ¤ ë¡œë“œ
        async function loadCardNews() {
            const container = document.getElementById('cardNewsContent');
            container.innerHTML = '<div class="loading-card"><div class="loading"></div><p style="margin-top: 10px;">ì¹´ë“œë‰´ìŠ¤ë¥¼ ë¶ˆëŸ¬ì˜¤ëŠ” ì¤‘...</p></div>';
            
            await new Promise(resolve => setTimeout(resolve, 1000));
            
            container.innerHTML = `
                <div class="card">
                    <h3>ğŸ“± ì´ë²ˆ ì£¼ ê²½ì œ ì¹´ë“œë‰´ìŠ¤</h3>
                    <div style="text-align: center; margin: 20px 0;">
                        <div style="width: 100%; height: 200px; background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); border-radius: 8px; display: flex; align-items: center; justify-content: center; color: white; font-size: 18px;">
                            ğŸ“Š ê²½ì œ ì§€í‘œ í•œëˆˆì—
                        </div>
                    </div>
                    <p>ì´ë²ˆ ì£¼ ì£¼ìš” ê²½ì œ ì§€í‘œë“¤ì„ ì¸í¬ê·¸ë˜í”½ìœ¼ë¡œ ì •ë¦¬í–ˆìŠµë‹ˆë‹¤.</p>
                </div>
            `;
        }

        // í˜„ì¬ íƒ­ ìƒˆë¡œê³ ì¹¨
        function refreshCurrentTab() {
            loadTabContent(currentTab);
        }

        // ë‰´ìŠ¤ ì—´ê¸°
        function openNews(url) {
            if (url && url !== '#') {
                window.open(url, '_blank');
            }
        }

        // í”„ë¡œí•„ë¡œ ì´ë™
        function goToProfile() {
            window.location.href = 'index.html';
        }

        // í”„ë¡œí•„ ì´ë¯¸ì§€ ë¡œë“œ
        function loadProfileImage() {
            const savedImage = localStorage.getItem('profileImage');
            if (savedImage) {
                const headerProfileImg = document.getElementById('headerProfileImg');
                const headerDefaultIcon = document.getElementById('headerDefaultIcon');
                
                if (headerProfileImg && headerDefaultIcon) {
                    headerProfileImg.src = savedImage;
                    headerProfileImg.style.display = 'block';
                    headerDefaultIcon.style.display = 'none';
                }
            }
        }

        // í˜ì´ì§€ ì´ˆê¸°í™”
        document.addEventListener('DOMContentLoaded', function() {
            loadProfileImage();
            loadTodayTerm();
        });
    </script>
</body>
</html>